<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>진주커pick</title>
    <link rel="stylesheet"  type="text/css" href="/public/css/password_change.css" />
</head>

<body>
    <script>
        function checkPassword(){
            let password1 = document.getElementById("password1").value
            let password2 = document.getElementById("password2").value

            // 비밀번호 확인 (영문+숫자+특수문자 8~15자)
            var pwCheck = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=~])(?=.*[0-9]).{8,15}$/;
                if(password1 === ""){
                    document.getElementById("password1Error").innerHTML = "비밀번호를 입력해주세요."
                    return false;
                } else if((password1.length < 8) || (password1.length > 15)) {
                    document.getElementById("password1Error").innerHTML = "영문, 숫자, 특수문자를 포함하여 8~15자로 입력해주세요."
                    return false;
                } else if(!pwCheck.test(password1)) {
                    document.getElementById("password1Error").innerHTML = "영문, 숫자, 특수문자를 포함하여 8~15자로 입력해주세요."
                    return false;
                } else {
                    if (password2 === ""){
                        document.getElementById("password1Error").innerHTML = "&nbsp"
                        document.getElementById("password2Error").innerHTML = "비밀번호를 입력해주세요."
                        return false;
                    } else if (password1 !== password2){
                        document.getElementById("password1Error").innerHTML = "&nbsp"
                        document.getElementById("password2Error").innerHTML = "비밀번호가 일치하지 않습니다."
                        return false;
                    } else {
                        document.getElementById("password2Error").innerHTML = "&nbsp"
                    }
                }
        }
    </script>

    <div class="top"><strong>패스워드 변경</strong></div>
    <div class="middle">
        <form onsubmit="return checkPassword()" action='/mypage/password/change' method="post" onsubmit="return check()">
        <div>
            <div class="password1">
                <input type="password" id="password1" name="password1" placeholder="새 비밀번호">
                <div id="password1Error" class="error">&nbsp</div>
            </div>
            <div class="password2">
                <input type="password" id="password2" name="password2" placeholder="새 비밀번호 확인">
                <div id="password2Error" class="error">&nbsp</div>
            </div>
            <div class="check">
                <input type="submit" id="check" value="변경" onclick="return check()">
            </div>
        </div>
        </form>
    </div>
</body>
</html>
